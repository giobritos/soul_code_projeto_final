# Mindful Data Consultoria
**Projeto final do curso de Engenharia de dados da SoulCode Academy**

 - **Autores:** Anderson Calasans, Giovana de Brito, Suzana Gomes, Wilbert Silva
 - **Data de entrega:** January 17, 2023
 - **Resumo:** Projeto final  do curso de engenharia de dados da SoulCode Academy, com relevÃ¢ncia na Ã¡rea de crimes (seguranÃ§a pÃºblica), que mostra um estudo comparativo entre as cidades de SÃ£o Paulo (Brasil) e New York (United States of America) quanto ao nÃºmero de casos de crimes envolvendo homicÃ­dios e os dados envolvendo este tipo de ocorrÃªncia.
 - **Status:** Finalizado
 - **Tema:** Crimes (SeguranÃ§a PÃºblica)
 - **Type:** Projeto Final - Soul Code
 - **Ãrea de estudo:** ETL, Engenharia de dados, GCP, MongoDB, MySQL, Python, SQL

## **ğŸš€ A Mindful Data - A Empresa:**

A **Mindful Data,** empresa de consultoria da Ã¡rea de engenharia de dados, fundada por nÃ³s, alunos recÃ©m formados do curso de **Engenharia de Dados** da **Soul Code Academy,** tem a proposta de atender Ã  demanda de empresas no que se trata de:

- Data Migration;
- Processos de ETL;
- ProduÃ§Ã£o de insights e dashboards para apoiar decisÃµes de negÃ³cios;

Nosso **squad** Ã© composto por:

<div align="center">
  <img height="160em" src="https://s3.us-west-2.amazonaws.com/secure.notion-static.com/ef78bf14-e393-460d-93b0-377dfc5a18c9/Design_sem_nome_%281%29.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230119T150411Z&X-Amz-Expires=86400&X-Amz-Signature=597c110a681156100510b68dfffa90060bed385587f1018f1e83f78249c000e3&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%22Design%2520sem%2520nome%2520%281%29.png%22&x-id=GetObject"/>
  <img height="160em" src="https://s3.us-west-2.amazonaws.com/secure.notion-static.com/e3118646-ce44-4d71-9d28-9585359c9da2/3.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230119T150405Z&X-Amz-Expires=86400&X-Amz-Signature=881af96c016ae12ec050b77df9db5d9f3b2f195e2608279c7cdb2985f70ad55d&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%223.png%22&x-id=GetObject"/>
  <img height="160em" src="https://s3.us-west-2.amazonaws.com/secure.notion-static.com/8c39b4c0-2e0b-4e8d-93c8-3d306887edc3/2.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230119T150408Z&X-Amz-Expires=86400&X-Amz-Signature=1cf62d48aca6e48fb54ca3816d73ebd57f57fcd752cd2751fe9841cf8263ce56&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%222.png%22&x-id=GetObject"/>
  <img height="160em" src="https://s3.us-west-2.amazonaws.com/secure.notion-static.com/72559785-117d-443a-a1f8-aa66b4c116cb/4.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230119T150413Z&X-Amz-Expires=86400&X-Amz-Signature=1cbfb8c5bd95da012d9f399ab27247604b50e8962c60579856ef863321d79e51&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%224.png%22&x-id=GetObject"/>
</div>

## â­ **Diretrizes:**

Nosso projeto seguiu as diretrizes determinada pelos professores do curso de engenharia de dados da SoulCode Academy e fora orientado pelo professor **Igor Gondim.** 

Os requisitos estÃ£o descritos logo abaixo:

[Requisitos do projeto](https://www.notion.so/Requisitos-do-projeto-7d9f86f72b5943e88e9c6c0ce9970a88)

## **O Projeto**

ğŸ“Œ **DefiniÃ§Ã£o dos objetivos:**

A partir do tema, passamos a etapa de definiÃ§Ã£o dos objetivos e criaÃ§Ã£o de insights preliminares para atender Ã s expectativas das diretrizes passadas pelo proposto do projeto.

Essa etapa estÃ¡ contida aqui:

[**Objetivos e organizaÃ§Ã£o das ideias gerais**](https://www.notion.so/Objetivos-e-organiza-o-das-ideias-gerais-c971c8ee5b464d53a76c2474b5f3a1ac)

ğŸ“Š **Tema escolhido com objetivo geral**:

> Estudo dos casos de crimes envolvendo mortes entre as cidades de **Nova York** e **SÃ£o Paulo**
> 

ğŸ“‘ **Objetivos especÃ­ficos:**

- TraÃ§ar o perfil das vÃ­timas
- Mapear quais locais mais violentos
- EvoluÃ§Ã£o da quantidade de crimes de acordo com o perÃ­odo

ğŸ“ˆ**Insights a serem resolvidos:**

1. Qual o total de ocorrÃªncias das duas cidades?
2. Ranking dos tipos de crime campeÃ£s em ocorrÃªncias
3. Qual o perÃ­odo do dia com maior nÃºmero de ocorrÃªncias?
4. LaÃ§o temporal dos crimes por ano e mÃªs
5. NÃºmero de ocorrÃªncias por cor da pele e sexo
6. Quais as regiÃµes (bairros ou distritos) mais perigosos?
</aside>

## **O Processo de ETL**

### ğŸ“Œ **Workflow**

Todo nosso processo estÃ¡ descrito no modelo abaixo, passando por todos os tÃ³picos solicitados nas diretrizes do projeto.

<div align="center">
  <img src="https://s3.us-west-2.amazonaws.com/secure.notion-static.com/c588b1f8-1273-4620-8369-9a0a0831b3cc/WhatsApp_Image_2023-01-16_at_17.01.02.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230119T150315Z&X-Amz-Expires=86400&X-Amz-Signature=7457d97a24eb81e0af53f25a242e4babc12071e7b6e326b68cfb91dd2d80df13&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%22WhatsApp%2520Image%25202023-01-16%2520at%252017.01.02.jpeg%22&x-id=GetObject"/>
</div>

### ğŸ“„**DefiniÃ§Ã£o das bases de dados**

Com os objetivos traÃ§ados, comeÃ§amos a busca das bases de dados que utilizaremos. Nos dividimos na busca e encontramos dados oficiais de ambas as cidades disponÃ­veis publicamente. 

Para melhorar o entendimento, a partir daqui trataremos ambas as cidades de forma paralela para facilitar a construÃ§Ã£o do raciocÃ­nio.

**SÃ£o Paulo - fonte de dados:**

Os dados foram tirados do Portal transparÃªncia do Governo do Estado de SÃ£o Paulo e filtrado apenas os crimes com homicÃ­dios para a cidade de SÃ£o Paulo, dos anos de 2018 a 2021.

[SeguranÃ§a PÃºblica - TransparÃªncia](http://www.ssp.sp.gov.br/transparenciassp/Consulta.aspx)

**Nova York - fonte de dados:**

OsÂ dadosÂ escolhidosÂ estÃ£oÂ disponÃ­veisÂ noÂ siteÂ **NYCÂ OpenÂ Data**,Â administradoÂ pelosÂ Ã³rgÃ£oÂ pÃºblicosÂ daÂ cidadeÂ deÂ **NovaÂ York**Â (**USA)**, onde filtramos as ocorrÃªncias que tiveram homicÃ­dios entre os anos de 2018 a 2021.

[NYPD Complaint Data Historic | NYC Open Data](https://data.cityofnewyork.us/Public-Safety/NYPD-Complaint-Data-Historic/qgea-i56i)

### **Tratamentos dos dados**

Abaixo estÃ£o descritos todo o passo a passo desde a extraÃ§Ã£o, atÃ© a uniÃ£o dos datasets de SP e NY jÃ¡ tratados.

**DataSet Original SP:** 
[Google Colaboratory](https://github.com/giobritos/soul_code_projeto_final/blob/d95442856ba9c7cc6da5e01db94d6c0e26276485/Import_Originais_SP.ipynb)

**DataSet Tratado SP:**
[Google Colaboratory](https://github.com/giobritos/soul_code_projeto_final/blob/d95442856ba9c7cc6da5e01db94d6c0e26276485/Tratamento_SP_Pandas.ipynb)

**DataSet Original NY:** 
[Google Colaboratory](https://github.com/giobritos/soul_code_projeto_final/blob/d95442856ba9c7cc6da5e01db94d6c0e26276485/Import_Originais_NY.ipynb)

**DataSet Tratado NY:**
[Google Colaboratory](https://github.com/giobritos/soul_code_projeto_final/blob/d95442856ba9c7cc6da5e01db94d6c0e26276485/Tratamento_NY_PySpark.ipynb)

**Data Frame juntando os dados de SP e NY:**
[Google Colaboratory](https://github.com/giobritos/soul_code_projeto_final/blob/d95442856ba9c7cc6da5e01db94d6c0e26276485/Uniao_Dados_SP_NY.ipynb)

**Envio do DataSet tratado ao BigQuery via Apache Beam:**
[Google Colaboratory](https://github.com/giobritos/soul_code_projeto_final/blob/d95442856ba9c7cc6da5e01db94d6c0e26276485/Custom_Template_GCS_para_BigQuery.ipynb)


## ğŸ“ˆ **Data Visualization**

### **BigQuery**
ApÃ³s realizar todos os tratamentos necessÃ¡rios e salvar os dados nos Data Lakes (**Cloud Storage** e **MongoDB**), puxamos os dados para o BigQuery, onde fizemos os Ãºltimos ajustes e algumas queries para constatar se nosso dados atendiam ao nosso objetivo antes do envio ao Looker Studio.

### **Dashboard Looker Studio**

O DashBoard interativo foi criado com o Looker Studio e estÃ¡ disponÃ­vel no link abaixo:
[Dashboard-Projeto Final](https://datastudio.google.com/reporting/2ecaecd3-dde9-4171-8a27-c5c589a6daed)

## **ApresentaÃ§Ã£o**

ğŸï¸ **ApresentaÃ§Ã£o Grupo 1 - Crimes:**
No Link abaixo estÃ¡ nossa apresentaÃ§Ã£o de slides, neste documento traremos mais detalhes sobre todo o processo.

[Apresentacao-Projeto Final](https://github.com/giobritos/soul_code_projeto_final/blob/d95442856ba9c7cc6da5e01db94d6c0e26276485/Grupo%201-%20Apresentacao-Projeto%20Final.pdf)
